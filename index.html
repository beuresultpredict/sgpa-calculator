<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SGPA Calculator</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', sans-serif;
    }
    body {
      background-color: #121212;
      color: #f1f1f1;
      padding: 2rem;
    }
    h1 {
      margin-bottom: 1rem;
    }
    select, input[type="number"] {
      padding: 0.5rem;
      margin: 0.5rem;
      border: none;
      border-radius: 5px;
      font-size: 1rem;
    }
    table {
      width: 100%;
      margin-top: 1rem;
      border-collapse: collapse;
    }
    th, td {
      padding: 0.75rem;
      border: 1px solid #333;
      text-align: left;
    }
    th {
      background-color: #1e1e1e;
    }
    .btn {
      background-color: #333;
      color: #fff;
      padding: 0.5rem 1rem;
      border: none;
      margin: 1rem 0.5rem;
      border-radius: 5px;
      cursor: pointer;
    }
    .btn:hover {
      background-color: #444;
    }
  </style>
</head>
<body>
  <h1>SGPA Calculator</h1>
  <label for="branch">Branch:</label>
  <select id="branch">
    <option>Mechanical</option>
  </select>

  <label for="semester">Semester:</label>
  <select id="semester" onchange="loadSubjects()">
    <option value="1">1st Semester</option>
    <option value="2">2nd Semester</option>
  </select>

  <button class="btn" onclick="calculateSGPA()">Calculate SGPA</button>
  <button class="btn" onclick="resetForm()">Reset</button>

  <table id="subjectTable">
    <thead>
      <tr>
        <th>S No</th>
        <th>Subject</th>
        <th>Credit</th>
        <th>Type</th>
        <th>Marks</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <h2 id="result"></h2>

  <script>
    const data = {
      1: [
        { sn: 1, subject: "Engineering Chemistry", credit: 3, type: "Theory" },
        { sn: 2, subject: "Engineering Mathematics-I", credit: 4, type: "Theory" },
        { sn: 3, subject: "Communicative English", credit: 3, type: "Theory" },
        { sn: 4, subject: "Sports/Yoga/NCC/NSS", credit: 1, type: "Practical" },
        { sn: 5, subject: "Engineering Graphics and Design", credit: 1, type: "Theory" },
        { sn: 6, subject: "Basic Electrical Engineering", credit: 3, type: "Theory" },
        { sn: 7, subject: "Engineering Chemistry Lab", credit: 1, type: "Practical" },
        { sn: 8, subject: "Communicative English Lab", credit: 1, type: "Practical" },
        { sn: 9, subject: "Engineering Graphics and Design Lab", credit: 2, type: "Practical" },
        { sn: 10, subject: "Basic Electrical Engineering Lab", credit: 1, type: "Practical" }
      ],
      2: [
        { sn: 11, subject: "Engineering Physics", credit: 3, type: "Theory" },
        { sn: 12, subject: "Engineering Mathematics-II", credit: 4, type: "Theory" },
        { sn: 13, subject: "Programming for Problem Solving", credit: 3, type: "Theory" },
        { sn: 14, subject: "Swachha Bharat Mission (SBM)", credit: 1, type: "Practical" },
        { sn: 15, subject: "Workshop Practices", credit: 2, type: "Practical" },
        { sn: 16, subject: "Elements of Mechanical Engineering", credit: 3, type: "Theory" },
        { sn: 17, subject: "Engineering Physics Lab", credit: 1, type: "Practical" },
        { sn: 18, subject: "Programming for Problem Solving Lab", credit: 1, type: "Practical" },
        { sn: 19, subject: "Workshop Practices Lab", credit: 1, type: "Practical" },
        { sn: 20, subject: "Elements of Mechanical Engineering Lab", credit: 1, type: "Practical" }
      ]
    };

    function loadSubjects() {
      const sem = document.getElementById("semester").value;
      const tbody = document.querySelector("#subjectTable tbody");
      tbody.innerHTML = "";
      data[sem].forEach(sub => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${sub.sn}</td>
          <td>${sub.subject}</td>
          <td>${sub.credit}</td>
          <td>${sub.type}</td>
          <td><input type="number" min="0" max="${sub.type === 'Theory' ? 100 : 50}" data-credit="${sub.credit}" data-type="${sub.type}" /></td>
        `;
        tbody.appendChild(tr);
      });
    }

    function calculateSGPA() {
      const inputs = document.querySelectorAll("input[type='number']");
      let totalCredit = 0, totalPoint = 0;
      inputs.forEach(input => {
        const marks = parseFloat(input.value);
        const credit = parseFloat(input.dataset.credit);
        const type = input.dataset.type;
        if (!isNaN(marks)) {
          const fullMarks = type === 'Theory' ? 100 : 50;
          const grade = getGradePoint(marks / fullMarks * 100);
          totalPoint += grade * credit;
          totalCredit += credit;
        }
      });
      const sgpa = (totalPoint / totalCredit).toFixed(2);
      document.getElementById("result").textContent = `Your SGPA: ${sgpa}`;
    }

    function getGradePoint(percentage) {
      if (percentage >= 90) return 10;
      if (percentage >= 80) return 9;
      if (percentage >= 70) return 8;
      if (percentage >= 60) return 7;
      if (percentage >= 50) return 6;
      if (percentage >= 40) return 5;
      return 0;
    }

    function resetForm() {
      document.querySelectorAll("input[type='number']").forEach(input => input.value = "");
      document.getElementById("result").textContent = "";
    }

    window.onload = loadSubjects;
  </script>
</body>
</html>
